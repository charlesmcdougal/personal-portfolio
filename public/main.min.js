const a=document.querySelector("#message-form"),d=document.querySelector(".message-counter");window.onload=()=>{let b=a.querySelectorAll("input, textarea");b.forEach(a=>{""!==a.value&&a.previousElementSibling.classList.add("label-animation")})},a.addEventListener("focusin",a=>{("INPUT"===a.target.nodeName||"TEXTAREA"===a.target.nodeName)&&(a.target.classList.remove("form-error"),a.target.previousElementSibling.classList.add("label-animation"))}),a.addEventListener("focusout",a=>{""===a.target.value&&a.target.previousElementSibling.classList.remove("label-animation"),""===a.target.value&&"TEXTAREA"===a.target.nodeName&&(d.innerText="")}),a.addEventListener("input",b=>{if("TEXTAREA"===b.target.nodeName){let a=b.target.value.length;d.innerText=`${a} / 800`,a>4&&a<800?d.style.color="rgba(255,255,255,0.8)":d.style.color="rgba(255,200,200,0.8)"}});const b=document.querySelector("#trigger-scroll"),e=document.querySelector(".wrapper");b.addEventListener("click",a=>{a.preventDefault(),e.scroll({top:2*e.scrollHeight,left:0,behavior:"smooth"})});const c=document.querySelector(".modal");c.addEventListener("click",a=>{c.style.display="none"});const f="https://mcdougal-resume-default-rtdb.firebaseio.com/",g=(a,b)=>{document.querySelector(".modal").style.display="flex",document.querySelector(".modal-title").innerText=a,document.querySelector(".modal-message").innerText=b};a.addEventListener("submit",async c=>{c.preventDefault();let b={},e=!1;for(i=0,a.querySelector("button[type=submit]").disabled=!0;i<c.target.length;i++)("INPUT"===c.target[i].nodeName||"TEXTAREA"===c.target[i].nodeName)&&(b={...b,[c.target[i].name]:c.target[i].value});if((b.name.length<1||b.name.length>=30)&&(a.querySelector("input[name=name]").classList.add("form-error"),e=!0),b.email.length<1&&(a.querySelector("input[name=email]").classList.add("form-error"),e=!0),(b.message.length<5||b.message.length>=800)&&(a.querySelector("textarea[name=message]").classList.add("form-error"),e=!0),e){a.querySelector("button[type=submit]").disabled=!1;return}let f=await fetch("https://mcdougal-resume-default-rtdb.firebaseio.com/messages.json",{method:"POST",body:JSON.stringify(b),headers:{"Content-Type":"application/json"}});if(f.ok){g("Thank you!","Thank you so much for reaching out to me! I will be in touch with you soon."),d.innerText="0 / 800";let h=a.querySelectorAll("input, textarea");h.forEach(a=>{a.value="",a.previousElementSibling.classList.remove("label-animation")}),setTimeout(()=>{a.querySelector("button[type=submit]").disabled=!1},2e3)}else g("Connection Error","There was an error communicating with the server. Please make sure the form is filled out correctly, or contact me with the email link."),a.querySelector("button[type=submit]").disabled=!1})